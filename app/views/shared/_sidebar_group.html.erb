<%#
  Collapsible sidebar navigation group
  Params:
    id: Unique group identifier for collapse state
    icon: Icon name (without .svg extension)
    label: Group header text
  Block: Content (nested links) to show when expanded
%>

<div class="space-y-1">
  <%# Group header (clickable to toggle) %>
  <button type="button"
          data-action="click->sidebar#toggleGroup"
          data-group-id="<%= id %>"
          class="w-full flex items-center justify-between gap-3 px-3 py-2 text-sm text-dark-400 hover:text-dark-100 hover:bg-dark-800 rounded-lg transition-colors">
    <div class="flex items-center gap-3">
      <%= inline_svg "icons/#{icon}.svg", class: "w-5 h-5 flex-shrink-0" %>
      <span><%= label %></span>
    </div>
    <%= inline_svg "icons/chevron-right.svg", class: "w-4 h-4 transition-transform duration-200 rotate-90", data: { chevron: true } %>
  </button>

  <%# Collapsible content %>
  <div id="nav-group-<%= id %>" class="space-y-1">
    <%= yield %>
  </div>
</div>
