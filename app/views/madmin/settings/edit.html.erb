<div class="max-w-3xl mx-auto">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-dark-50"><%= t(".heading") %></h1>
  </div>

  <%= form_with model: @setting, url: main_app.madmin_settings_path, method: :patch, class: "space-y-6" do |form| %>
    <%# AI Providers %>
    <div class="bg-dark-900 py-8 px-6 rounded-xl border border-dark-700">
      <h2 class="text-xl font-semibold text-dark-100 mb-6"><%= t(".ai_providers") %></h2>
      <div class="space-y-4">
        <div>
          <%= form.label :openai_api_key, t(".openai_api_key"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.password_field :openai_api_key,
            value: @setting.openai_api_key,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
        <div>
          <%= form.label :anthropic_api_key, t(".anthropic_api_key"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.password_field :anthropic_api_key,
            value: @setting.anthropic_api_key,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
      </div>
    </div>

    <%# Stripe %>
    <div class="bg-dark-900 py-8 px-6 rounded-xl border border-dark-700">
      <h2 class="text-xl font-semibold text-dark-100 mb-6"><%= t(".stripe") %></h2>
      <div class="space-y-4">
        <div>
          <%= form.label :stripe_secret_key, t(".stripe_secret_key"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.password_field :stripe_secret_key,
            value: @setting.stripe_secret_key,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
        <div>
          <%= form.label :stripe_publishable_key, t(".stripe_publishable_key"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.text_field :stripe_publishable_key,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
        <div>
          <%= form.label :stripe_webhook_secret, t(".stripe_webhook_secret"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.password_field :stripe_webhook_secret,
            value: @setting.stripe_webhook_secret,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
        <div>
          <%= form.label :trial_days, t(".trial_days"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.number_field :trial_days,
            min: 0,
            placeholder: "30",
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 text-sm" %>
          <p class="mt-1 text-xs text-dark-500"><%= t(".trial_days_hint") %></p>
        </div>
      </div>
    </div>

    <%# Litestream %>
    <div class="bg-dark-900 py-8 px-6 rounded-xl border border-dark-700">
      <h2 class="text-xl font-semibold text-dark-100 mb-2"><%= t(".litestream") %></h2>
      <p class="text-sm text-dark-500 mb-6"><%= t(".litestream_restart_note") %></p>
      <div class="space-y-4">
        <div>
          <%= form.label :litestream_replica_bucket, t(".litestream_replica_bucket"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.text_field :litestream_replica_bucket,
            placeholder: "my-bucket.s3.amazonaws.com",
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 text-sm" %>
        </div>
        <div>
          <%= form.label :litestream_replica_key_id, t(".litestream_replica_key_id"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.password_field :litestream_replica_key_id,
            value: @setting.litestream_replica_key_id,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
        <div>
          <%= form.label :litestream_replica_access_key, t(".litestream_replica_access_key"), class: "block text-sm font-medium text-dark-200 mb-2" %>
          <%= form.password_field :litestream_replica_access_key,
            value: @setting.litestream_replica_access_key,
            placeholder: t(".key_placeholder"),
            class: "w-full px-4 py-3 border border-dark-600 bg-dark-800 text-dark-100 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none transition-all placeholder-dark-500 font-mono text-sm" %>
        </div>
      </div>
    </div>

    <%# Actions %>
    <div class="flex items-center gap-4">
      <%= form.submit t(".save"),
        class: "bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 font-medium transition-all cursor-pointer shadow-lg shadow-blue-500/25" %>
      <%= link_to t(".cancel"), main_app.madmin_settings_path, class: "text-dark-400 hover:text-dark-300 transition-colors" %>
    </div>
  <% end %>
</div>
